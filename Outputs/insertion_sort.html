<html>
  <head>
    <title>Python Lexical Highliter</title>
    <link rel="stylesheet" href="token_colors.css">
  </head>
  <body>
    <pre><span class="comment">"""
A pure Python implementation of the insertion sort algorithm

This algorithm sorts a collection by comparing adjacent elements.
When it finds that order is not respected, it moves the element compared
backward until the order is correct.  It then goes back directly to the
element's initial position resuming forward comparison.

For doctests run following command:
python3 -m doctest -v insertion_sort.py

For manual testing run:
python3 insertion_sort.py
"""</span>


<span class="keyword">def</span> <span class="identifier">insertion_sort</span><span class="grouping">(</span><span class="identifier">collection</span><span class="punctuation">:</span> <span class="identifier">list</span><span class="grouping">)</span> <span class="misc">-&gt;</span> <span class="identifier">list</span><span class="punctuation">:</span>
    <span class="comment">"""A pure Python implementation of the insertion sort algorithm

    :param collection: some mutable ordered collection with heterogeneous
    comparable items inside
    :return: the same collection ordered by ascending

    Examples:
    &gt;&gt;&gt; insertion_sort([0, 5, 3, 2, 2])
    [0, 2, 2, 3, 5]
    &gt;&gt;&gt; insertion_sort([]) == sorted([])
    True
    &gt;&gt;&gt; insertion_sort([-2, -5, -45]) == sorted([-2, -5, -45])
    True
    &gt;&gt;&gt; insertion_sort(['d', 'a', 'b', 'e', 'c']) == sorted(['d', 'a', 'b', 'e', 'c'])
    True
    &gt;&gt;&gt; import random
    &gt;&gt;&gt; collection = random.sample(range(-50, 50), 100)
    &gt;&gt;&gt; insertion_sort(collection) == sorted(collection)
    True
    &gt;&gt;&gt; import string
    &gt;&gt;&gt; collection = random.choices(string.ascii_letters + string.digits, k=100)
    &gt;&gt;&gt; insertion_sort(collection) == sorted(collection)
    True
    """</span>

    <span class="keyword">for</span> <span class="identifier">insert_index</span><span class="punctuation">,</span> <span class="identifier">insert_value</span> <span class="relational-operator">in</span> <span class="identifier">enumerate</span><span class="grouping">(</span><span class="identifier">collection</span><span class="grouping">[</span><span class="int-literal">1</span><span class="punctuation">:</span><span class="grouping">]</span><span class="grouping">)</span><span class="punctuation">:</span>
        <span class="identifier">temp_index</span> <span class="arithmetic-assignment">=</span> <span class="identifier">insert_index</span>
        <span class="keyword">while</span> <span class="identifier">insert_index</span> <span class="relational-operator">&gt;=</span> <span class="int-literal">0</span> <span class="logical-operator">and</span> <span class="identifier">insert_value</span> <span class="relational-operator">&lt;</span> <span class="identifier">collection</span><span class="grouping">[</span><span class="identifier">insert_index</span><span class="grouping">]</span><span class="punctuation">:</span>
            <span class="identifier">collection</span><span class="grouping">[</span><span class="identifier">insert_index</span> <span class="arithmetic-operator">+</span> <span class="int-literal">1</span><span class="grouping">]</span> <span class="arithmetic-assignment">=</span> <span class="identifier">collection</span><span class="grouping">[</span><span class="identifier">insert_index</span><span class="grouping">]</span>
            <span class="identifier">insert_index</span> <span class="arithmetic-assignment">-=</span> <span class="int-literal">1</span>
        <span class="keyword">if</span> <span class="identifier">insert_index</span> <span class="relational-operator">!=</span> <span class="identifier">temp_index</span><span class="punctuation">:</span>
            <span class="identifier">collection</span><span class="grouping">[</span><span class="identifier">insert_index</span> <span class="arithmetic-operator">+</span> <span class="int-literal">1</span><span class="grouping">]</span> <span class="arithmetic-assignment">=</span> <span class="identifier">insert_value</span>
    <span class="keyword">return</span> <span class="identifier">collection</span>


<span class="keyword">if</span> <span class="identifier">__name__</span> <span class="relational-operator">==</span> <span class="string-literal">"__main__"</span><span class="punctuation">:</span>
    <span class="keyword">from</span> <span class="identifier">doctest</span> <span class="keyword">import</span> <span class="identifier">testmod</span>

    <span class="identifier">testmod</span><span class="grouping">(</span><span class="grouping">)</span>

    <span class="identifier">user_input</span> <span class="arithmetic-assignment">=</span> <span class="identifier">input</span><span class="grouping">(</span><span class="string-literal">"Enter numbers separated by a comma:\n"</span><span class="grouping">)</span><span class="punctuation">.</span><span class="identifier">strip</span><span class="grouping">(</span><span class="grouping">)</span>
    <span class="identifier">unsorted</span> <span class="arithmetic-assignment">=</span> <span class="grouping">[</span><span class="identifier">int</span><span class="grouping">(</span><span class="identifier">item</span><span class="grouping">)</span> <span class="keyword">for</span> <span class="identifier">item</span> <span class="relational-operator">in</span> <span class="identifier">user_input</span><span class="punctuation">.</span><span class="identifier">split</span><span class="grouping">(</span><span class="string-literal">","</span><span class="grouping">)</span><span class="grouping">]</span>
    <span class="identifier">print</span><span class="grouping">(</span><span class="identifier">f</span><span class="string-literal">"{insertion_sort(unsorted) = }"</span><span class="grouping">)</span>

    </pre>
  </body>
</html>