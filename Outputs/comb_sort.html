<html>
  <head>
    <title>Python Lexical Highliter</title>
    <link rel="stylesheet" href="token_colors.css">
  </head>
  <body>
    <pre><span class="comment">"""
This is pure Python implementation of comb sort algorithm.
Comb sort is a relatively simple sorting algorithm originally designed by Wlodzimierz
Dobosiewicz in 1980.  It was rediscovered by Stephen Lacey and Richard Box in 1991.
Comb sort improves on bubble sort algorithm.
In bubble sort, distance (or gap) between two compared elements is always one.
Comb sort improvement is that gap can be much more than 1, in order to prevent slowing
down by small values
at the end of a list.

More info on: https://en.wikipedia.org/wiki/Comb_sort

For doctests run following command:
python -m doctest -v comb_sort.py
or
python3 -m doctest -v comb_sort.py

For manual testing run:
python comb_sort.py
"""</span>


<span class="keyword">def</span> <span class="identifier">comb_sort</span><span class="grouping">(</span><span class="identifier">data</span><span class="punctuation">:</span> <span class="identifier">list</span><span class="grouping">)</span> <span class="misc">-&gt;</span> <span class="identifier">list</span><span class="punctuation">:</span>
    <span class="comment">"""Pure implementation of comb sort algorithm in Python
    :param data: mutable collection with comparable items
    :return: the same collection in ascending order
    Examples:
    &gt;&gt;&gt; comb_sort([0, 5, 3, 2, 2])
    [0, 2, 2, 3, 5]
    &gt;&gt;&gt; comb_sort([])
    []
    &gt;&gt;&gt; comb_sort([99, 45, -7, 8, 2, 0, -15, 3])
    [-15, -7, 0, 2, 3, 8, 45, 99]
    """</span>
    <span class="identifier">shrink_factor</span> <span class="arithmetic-assignment">=</span> <span class="float-literal">1.3</span>
    <span class="identifier">gap</span> <span class="arithmetic-assignment">=</span> <span class="identifier">len</span><span class="grouping">(</span><span class="identifier">data</span><span class="grouping">)</span>
    <span class="identifier">completed</span> <span class="arithmetic-assignment">=</span> <span class="bool-literal">False</span>

    <span class="keyword">while</span> <span class="logical-operator">not</span> <span class="identifier">completed</span><span class="punctuation">:</span>

        <span class="comment"># Update the gap value for a next comb</span>
        <span class="identifier">gap</span> <span class="arithmetic-assignment">=</span> <span class="identifier">int</span><span class="grouping">(</span><span class="identifier">gap</span> <span class="arithmetic-operator">/</span> <span class="identifier">shrink_factor</span><span class="grouping">)</span>
        <span class="keyword">if</span> <span class="identifier">gap</span> <span class="relational-operator">&lt;=</span> <span class="int-literal">1</span><span class="punctuation">:</span>
            <span class="identifier">completed</span> <span class="arithmetic-assignment">=</span> <span class="bool-literal">True</span>

        <span class="identifier">index</span> <span class="arithmetic-assignment">=</span> <span class="int-literal">0</span>
        <span class="keyword">while</span> <span class="identifier">index</span> <span class="arithmetic-operator">+</span> <span class="identifier">gap</span> <span class="relational-operator">&lt;</span> <span class="identifier">len</span><span class="grouping">(</span><span class="identifier">data</span><span class="grouping">)</span><span class="punctuation">:</span>
            <span class="keyword">if</span> <span class="identifier">data</span><span class="grouping">[</span><span class="identifier">index</span><span class="grouping">]</span> <span class="relational-operator">&gt;</span> <span class="identifier">data</span><span class="grouping">[</span><span class="identifier">index</span> <span class="arithmetic-operator">+</span> <span class="identifier">gap</span><span class="grouping">]</span><span class="punctuation">:</span>
                <span class="comment"># Swap values</span>
                <span class="identifier">data</span><span class="grouping">[</span><span class="identifier">index</span><span class="grouping">]</span><span class="punctuation">,</span> <span class="identifier">data</span><span class="grouping">[</span><span class="identifier">index</span> <span class="arithmetic-operator">+</span> <span class="identifier">gap</span><span class="grouping">]</span> <span class="arithmetic-assignment">=</span> <span class="identifier">data</span><span class="grouping">[</span><span class="identifier">index</span> <span class="arithmetic-operator">+</span> <span class="identifier">gap</span><span class="grouping">]</span><span class="punctuation">,</span> <span class="identifier">data</span><span class="grouping">[</span><span class="identifier">index</span><span class="grouping">]</span>
                <span class="identifier">completed</span> <span class="arithmetic-assignment">=</span> <span class="bool-literal">False</span>
            <span class="identifier">index</span> <span class="arithmetic-assignment">+=</span> <span class="int-literal">1</span>

    <span class="keyword">return</span> <span class="identifier">data</span>


<span class="keyword">if</span> <span class="identifier">__name__</span> <span class="relational-operator">==</span> <span class="string-literal">"__main__"</span><span class="punctuation">:</span>
    <span class="keyword">import</span> <span class="identifier">doctest</span>

    <span class="identifier">doctest</span><span class="punctuation">.</span><span class="identifier">testmod</span><span class="grouping">(</span><span class="grouping">)</span>

    <span class="identifier">user_input</span> <span class="arithmetic-assignment">=</span> <span class="identifier">input</span><span class="grouping">(</span><span class="string-literal">"Enter numbers separated by a comma:\n"</span><span class="grouping">)</span><span class="punctuation">.</span><span class="identifier">strip</span><span class="grouping">(</span><span class="grouping">)</span>
    <span class="identifier">unsorted</span> <span class="arithmetic-assignment">=</span> <span class="grouping">[</span><span class="identifier">int</span><span class="grouping">(</span><span class="identifier">item</span><span class="grouping">)</span> <span class="keyword">for</span> <span class="identifier">item</span> <span class="relational-operator">in</span> <span class="identifier">user_input</span><span class="punctuation">.</span><span class="identifier">split</span><span class="grouping">(</span><span class="string-literal">","</span><span class="grouping">)</span><span class="grouping">]</span>
    <span class="identifier">print</span><span class="grouping">(</span><span class="identifier">comb_sort</span><span class="grouping">(</span><span class="identifier">unsorted</span><span class="grouping">)</span><span class="grouping">)</span>

    </pre>
  </body>
</html>