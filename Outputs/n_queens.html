<html>
  <head>
    <title>Python Lexical Highliter</title>
    <link rel="stylesheet" href="token_colors.css">
  </head>
  <body>
    <pre><span class="comment">"""

 The nqueens problem is of placing N queens on a N * N
 chess board such that no queen can attack any other queens placed
 on that chess board.
 This means that one queen cannot have any other queen on its horizontal, vertical and
 diagonal lines.

"""</span>
<span class="keyword">from</span> <span class="identifier">typing</span> <span class="keyword">import</span> <span class="identifier">List</span>

<span class="identifier">solution</span> <span class="arithmetic-assignment">=</span> <span class="grouping">[</span><span class="grouping">]</span>


<span class="keyword">def</span> <span class="identifier">isSafe</span><span class="grouping">(</span><span class="identifier">board</span><span class="punctuation">:</span> <span class="identifier">List</span><span class="grouping">[</span><span class="identifier">List</span><span class="grouping">[</span><span class="identifier">int</span><span class="grouping">]</span><span class="grouping">]</span><span class="punctuation">,</span> <span class="identifier">row</span><span class="punctuation">:</span> <span class="identifier">int</span><span class="punctuation">,</span> <span class="identifier">column</span><span class="punctuation">:</span> <span class="identifier">int</span><span class="grouping">)</span> <span class="misc">-&gt;</span> <span class="identifier">bool</span><span class="punctuation">:</span>
    <span class="comment">"""
    This function returns a boolean value True if it is safe to place a queen there
    considering the current state of the board.

    Parameters :
    board(2D matrix) : board
    row ,column : coordinates of the cell on a board

    Returns :
    Boolean Value

    """</span>
    <span class="keyword">for</span> <span class="identifier">i</span> <span class="relational-operator">in</span> <span class="identifier">range</span><span class="grouping">(</span><span class="identifier">len</span><span class="grouping">(</span><span class="identifier">board</span><span class="grouping">)</span><span class="grouping">)</span><span class="punctuation">:</span>
        <span class="keyword">if</span> <span class="identifier">board</span><span class="grouping">[</span><span class="identifier">row</span><span class="grouping">]</span><span class="grouping">[</span><span class="identifier">i</span><span class="grouping">]</span> <span class="relational-operator">==</span> <span class="int-literal">1</span><span class="punctuation">:</span>
            <span class="keyword">return</span> <span class="bool-literal">False</span>
    <span class="keyword">for</span> <span class="identifier">i</span> <span class="relational-operator">in</span> <span class="identifier">range</span><span class="grouping">(</span><span class="identifier">len</span><span class="grouping">(</span><span class="identifier">board</span><span class="grouping">)</span><span class="grouping">)</span><span class="punctuation">:</span>
        <span class="keyword">if</span> <span class="identifier">board</span><span class="grouping">[</span><span class="identifier">i</span><span class="grouping">]</span><span class="grouping">[</span><span class="identifier">column</span><span class="grouping">]</span> <span class="relational-operator">==</span> <span class="int-literal">1</span><span class="punctuation">:</span>
            <span class="keyword">return</span> <span class="bool-literal">False</span>
    <span class="keyword">for</span> <span class="identifier">i</span><span class="punctuation">,</span> <span class="identifier">j</span> <span class="relational-operator">in</span> <span class="identifier">zip</span><span class="grouping">(</span><span class="identifier">range</span><span class="grouping">(</span><span class="identifier">row</span><span class="punctuation">,</span> <span class="arithmetic-operator">-</span><span class="int-literal">1</span><span class="punctuation">,</span> <span class="arithmetic-operator">-</span><span class="int-literal">1</span><span class="grouping">)</span><span class="punctuation">,</span> <span class="identifier">range</span><span class="grouping">(</span><span class="identifier">column</span><span class="punctuation">,</span> <span class="arithmetic-operator">-</span><span class="int-literal">1</span><span class="punctuation">,</span> <span class="arithmetic-operator">-</span><span class="int-literal">1</span><span class="grouping">)</span><span class="grouping">)</span><span class="punctuation">:</span>
        <span class="keyword">if</span> <span class="identifier">board</span><span class="grouping">[</span><span class="identifier">i</span><span class="grouping">]</span><span class="grouping">[</span><span class="identifier">j</span><span class="grouping">]</span> <span class="relational-operator">==</span> <span class="int-literal">1</span><span class="punctuation">:</span>
            <span class="keyword">return</span> <span class="bool-literal">False</span>
    <span class="keyword">for</span> <span class="identifier">i</span><span class="punctuation">,</span> <span class="identifier">j</span> <span class="relational-operator">in</span> <span class="identifier">zip</span><span class="grouping">(</span><span class="identifier">range</span><span class="grouping">(</span><span class="identifier">row</span><span class="punctuation">,</span> <span class="arithmetic-operator">-</span><span class="int-literal">1</span><span class="punctuation">,</span> <span class="arithmetic-operator">-</span><span class="int-literal">1</span><span class="grouping">)</span><span class="punctuation">,</span> <span class="identifier">range</span><span class="grouping">(</span><span class="identifier">column</span><span class="punctuation">,</span> <span class="identifier">len</span><span class="grouping">(</span><span class="identifier">board</span><span class="grouping">)</span><span class="grouping">)</span><span class="grouping">)</span><span class="punctuation">:</span>
        <span class="keyword">if</span> <span class="identifier">board</span><span class="grouping">[</span><span class="identifier">i</span><span class="grouping">]</span><span class="grouping">[</span><span class="identifier">j</span><span class="grouping">]</span> <span class="relational-operator">==</span> <span class="int-literal">1</span><span class="punctuation">:</span>
            <span class="keyword">return</span> <span class="bool-literal">False</span>
    <span class="keyword">return</span> <span class="bool-literal">True</span>


<span class="keyword">def</span> <span class="identifier">solve</span><span class="grouping">(</span><span class="identifier">board</span><span class="punctuation">:</span> <span class="identifier">List</span><span class="grouping">[</span><span class="identifier">List</span><span class="grouping">[</span><span class="identifier">int</span><span class="grouping">]</span><span class="grouping">]</span><span class="punctuation">,</span> <span class="identifier">row</span><span class="punctuation">:</span> <span class="identifier">int</span><span class="grouping">)</span> <span class="misc">-&gt;</span> <span class="identifier">bool</span><span class="punctuation">:</span>
    <span class="comment">"""
    It creates a state space tree and calls the safe function until it receives a
    False Boolean and terminates that branch and backtracks to the next
    possible solution branch.
    """</span>
    <span class="keyword">if</span> <span class="identifier">row</span> <span class="relational-operator">&gt;=</span> <span class="identifier">len</span><span class="grouping">(</span><span class="identifier">board</span><span class="grouping">)</span><span class="punctuation">:</span>
        <span class="comment">"""
        If the row number exceeds N we have board with a successful combination
        and that combination is appended to the solution list and the board is printed.

        """</span>
        <span class="identifier">solution</span><span class="punctuation">.</span><span class="identifier">append</span><span class="grouping">(</span><span class="identifier">board</span><span class="grouping">)</span>
        <span class="identifier">printboard</span><span class="grouping">(</span><span class="identifier">board</span><span class="grouping">)</span>
        <span class="identifier">print</span><span class="grouping">(</span><span class="grouping">)</span>
        <span class="keyword">return</span> <span class="bool-literal">True</span>
    <span class="keyword">for</span> <span class="identifier">i</span> <span class="relational-operator">in</span> <span class="identifier">range</span><span class="grouping">(</span><span class="identifier">len</span><span class="grouping">(</span><span class="identifier">board</span><span class="grouping">)</span><span class="grouping">)</span><span class="punctuation">:</span>
        <span class="comment">"""
        For every row it iterates through each column to check if it is feasible to
        place a queen there.
        If all the combinations for that particular branch are successful the board is
        reinitialized for the next possible combination.
        """</span>
        <span class="keyword">if</span> <span class="identifier">isSafe</span><span class="grouping">(</span><span class="identifier">board</span><span class="punctuation">,</span> <span class="identifier">row</span><span class="punctuation">,</span> <span class="identifier">i</span><span class="grouping">)</span><span class="punctuation">:</span>
            <span class="identifier">board</span><span class="grouping">[</span><span class="identifier">row</span><span class="grouping">]</span><span class="grouping">[</span><span class="identifier">i</span><span class="grouping">]</span> <span class="arithmetic-assignment">=</span> <span class="int-literal">1</span>
            <span class="identifier">solve</span><span class="grouping">(</span><span class="identifier">board</span><span class="punctuation">,</span> <span class="identifier">row</span> <span class="arithmetic-operator">+</span> <span class="int-literal">1</span><span class="grouping">)</span>
            <span class="identifier">board</span><span class="grouping">[</span><span class="identifier">row</span><span class="grouping">]</span><span class="grouping">[</span><span class="identifier">i</span><span class="grouping">]</span> <span class="arithmetic-assignment">=</span> <span class="int-literal">0</span>
    <span class="keyword">return</span> <span class="bool-literal">False</span>


<span class="keyword">def</span> <span class="identifier">printboard</span><span class="grouping">(</span><span class="identifier">board</span><span class="punctuation">:</span> <span class="identifier">List</span><span class="grouping">[</span><span class="identifier">List</span><span class="grouping">[</span><span class="identifier">int</span><span class="grouping">]</span><span class="grouping">]</span><span class="grouping">)</span> <span class="misc">-&gt;</span> <span class="none-literal">None</span><span class="punctuation">:</span>
    <span class="comment">"""
    Prints the boards that have a successful combination.
    """</span>
    <span class="keyword">for</span> <span class="identifier">i</span> <span class="relational-operator">in</span> <span class="identifier">range</span><span class="grouping">(</span><span class="identifier">len</span><span class="grouping">(</span><span class="identifier">board</span><span class="grouping">)</span><span class="grouping">)</span><span class="punctuation">:</span>
        <span class="keyword">for</span> <span class="identifier">j</span> <span class="relational-operator">in</span> <span class="identifier">range</span><span class="grouping">(</span><span class="identifier">len</span><span class="grouping">(</span><span class="identifier">board</span><span class="grouping">)</span><span class="grouping">)</span><span class="punctuation">:</span>
            <span class="keyword">if</span> <span class="identifier">board</span><span class="grouping">[</span><span class="identifier">i</span><span class="grouping">]</span><span class="grouping">[</span><span class="identifier">j</span><span class="grouping">]</span> <span class="relational-operator">==</span> <span class="int-literal">1</span><span class="punctuation">:</span>
                <span class="identifier">print</span><span class="grouping">(</span><span class="string-literal">"Q", end=" "</span><span class="grouping">)</span>
            <span class="keyword">else</span><span class="punctuation">:</span>
                <span class="identifier">print</span><span class="grouping">(</span><span class="string-literal">".", end=" "</span><span class="grouping">)</span>
        <span class="identifier">print</span><span class="grouping">(</span><span class="grouping">)</span>


<span class="comment"># n=int(input("The no. of queens"))</span>
<span class="identifier">n</span> <span class="arithmetic-assignment">=</span> <span class="int-literal">8</span>
<span class="identifier">board</span> <span class="arithmetic-assignment">=</span> <span class="grouping">[</span><span class="grouping">[</span><span class="int-literal">0</span> <span class="keyword">for</span> <span class="identifier">i</span> <span class="relational-operator">in</span> <span class="identifier">range</span><span class="grouping">(</span><span class="identifier">n</span><span class="grouping">)</span><span class="grouping">]</span> <span class="keyword">for</span> <span class="identifier">j</span> <span class="relational-operator">in</span> <span class="identifier">range</span><span class="grouping">(</span><span class="identifier">n</span><span class="grouping">)</span><span class="grouping">]</span>
<span class="identifier">solve</span><span class="grouping">(</span><span class="identifier">board</span><span class="punctuation">,</span> <span class="int-literal">0</span><span class="grouping">)</span>
<span class="identifier">print</span><span class="grouping">(</span><span class="string-literal">"The total no. of solutions are :"</span><span class="punctuation">,</span> <span class="identifier">len</span><span class="grouping">(</span><span class="identifier">solution</span><span class="grouping">)</span><span class="grouping">)</span>

    </pre>
  </body>
</html>